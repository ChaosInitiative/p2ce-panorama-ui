@use "sass:math"

//-----------------//
//---- Globals ----//
//-----------------//

Label
	font-size: 25px
	font-weight: normal

// It is a class instead of ChaosSettingsSlider to override the height and width
.MainMenuSettingsSlider
	height: 16px
	width: 256px


//-------------------//
//---- Main Menu ----//
//-------------------//

#MainMenu,
#MainMenuContainerPanel,
#MainMenuInput,
#MainMenuCore,
#MainMenuBackground,
#MainMenuMovieParent,
#MainMenuMovie,
#MainMenuCampaignFrameParent,
#MainMenuCampaignFrame,
#MainMenuNavlistContainer,
#BackbufferImagePanel,
#MainMenuButtonsNewGameContainer
	width: 100%
	height: 100%

.Main,
.MainMenuNavlistContainer
	width: 100%
	height: 100%

.NavListContainer
	width: 100%
	height: 100%
	flow-children: down
	
$main-menu-buttons-height: 6.5%
$main-menu-buttons-width: 300px
$main-menu-border-radius: 8px
$main-menu-background-color: #222
$main-menu-buttons-button-width: math.div(1, 4)

#MainMenuButtons
	horizontal-align: center
	vertical-align: top
	height: $main-menu-buttons-height - 1%
	width: $main-menu-buttons-width
	background-color: $main-menu-background-color
	opacity-mask: url( "file://{images}/menu/menu_top_bar_mask.png" )
	padding-left: 20px
	padding-right: 20px
	flow-children: right

	Button,
	TextButton
		horizontal-align: center
		vertical-align: center
		padding: 4px
		margin: 4px
		border-radius: $main-menu-border-radius
		width: fill-parent-flow($main-menu-buttons-button-width)
		height: 100%
		&:hover
			background-color: #555

		Label
			text-align: center
			horizontal-align: center
		
		Image
			width: 100%
			height: 100%

.MainMenuButtonsContent
	horizontal-align: center
	vertical-align: top
	margin-top: $main-menu-buttons-height
	background-color: $main-menu-background-color
	border-radius: $main-menu-border-radius

#MainMenuButtonsWorkshopContent
	width: 100% - ($main-menu-buttons-height * 0.75)
	height: 100% - ($main-menu-buttons-height * 1.5)
	flow-children: down

#MainMenuButtonsNewGameContent
	width: 60% - ($main-menu-buttons-height * 0.75)
	height: 60% - ($main-menu-buttons-height * 1.5)
	margin-left: 12.5%
	margin-top: 41%
	align: left top
	background-color: #c6c4c4
	flow-children: down

#MainMenuButtonsNewGameContainer
	flow-children: right

#MainMenuButtonsSettingsContent
	$main-menu-settings-category-width: 20%

	width: 100% - ($main-menu-buttons-height * 0.75)
	height: 100% - ($main-menu-buttons-height * 1.5)
	flow-children: right

	#MainMenuButtonsSettingsCategoryList
		width: $main-menu-settings-category-width
		height: 100%
		overflow: scroll
		flow-children: down
		background-color: #4442

		.MainMenuButtonsSettingsCategoryListEntry
			width: 100%
			height: 6.5%
			border-bottom: 2px solid #444
			flow-children: right
			background-color: #333
			&:hover
				background-color: #444
			
			Label
				align: center center
				color: white
		
		.MainMenuButtonsSettingsCategoryListEntryActive
			border-right: 4px solid orange

	> Label
		align: center top
		color: white
		font-size: 18px
		margin-bottom: 1.5%
	
	#MainMenuButtonsSettingsPropertyList
		$settings-property-list-margin: 1%
		$settings-property-list-padding: 16px
		margin-left: $settings-property-list-margin
		width: 100% - $main-menu-settings-category-width - $settings-property-list-margin
		height: 100%
		overflow: scroll
		flow-children: down

		.MainMenuButtonsSettingsPropertyListCategoryLabel
			width: 100%
			align: left top
			margin-top: 8px
			padding: 4px 0px 4px $settings-property-list-padding
			border-bottom-left-radius: $main-menu-border-radius
			border-top-left-radius: $main-menu-border-radius
			background-color: #444

		.MainMenuButtonsSettingsPropertyListCategory
			width: 100%
			padding-left: $settings-property-list-padding
			padding-top: 8px
			flow-children: down

			.MainMenuButtonsSettingsPropertyListLabeledProperty
				padding-bottom: 8px
				flow-children: right

				Label
					align: left center
					padding-right: 16px

#MainMenuButtonsQuitContent
	width: 30%
	height: 14%

	Label
		color: black
	
	> Panel > Label
		horizontal-align: center
		padding-top: 45%
		color: white
	
	$button-side-padding: 4%
	TextButton
		align: center center
		background-color: #ddddddbb
		border-radius: $main-menu-border-radius
		width: 50% - ($button-side-padding * 1.5)
		height: 50%
		&:hover
			background-color: #aaaa
	TextButton#MainMenuButtonsQuitButtonYes
		margin-left: $button-side-padding
		margin-right: math.div($button-side-padding, 2)
	TextButton#MainMenuButtonsQuitButtonNo
		margin-right: $button-side-padding
		margin-left: math.div($button-side-padding, 2)

	TextButton > Label
		align: center center

	#MainMenuButtonsQuitContentUpperHalf,
	#MainMenuButtonsQuitContentLowerHalf
		width: 100%
	
	$top-bar-height: 30%
	#MainMenuButtonsQuitContentUpperHalf
		height: $top-bar-height
	#MainMenuButtonsQuitContentLowerHalf
		height: 100% - $top-bar-height
		margin-top: $top-bar-height
		flow-children: right


//--------------------//
//---- Pause Menu ----//
//--------------------//

.PauseMenuVignette
	animation-name: pauseMenuVignette
	animation-duration: 0.2s
	animation-timing-function: ease-in-out
	animation-iteration-count: 1
	animation-fill-mode: forwards

@keyframes pauseMenuVignette
	0%
		saturation: 1.0
		blur: fastgaussian(0.0)
		wash-color-fast: #00000000
	100%
		saturation: 0.35
		blur: fastgaussian(6.0)
		wash-color-fast: #000000a0

.PauseMenuFade
	animation-name: pauseMenuFade
	animation-duration: 0.2s
	animation-timing-function: ease-in-out
	animation-iteration-count: 1
	animation-fill-mode: forwards

@keyframes pauseMenuFade
	0%
		opacity: 0.0
	100%
		opacity: 1.0


//----------------------//
//---- Beta Display ----//
//----------------------//

#MainMenuBetaDisplay
	$main-menu-beta-display-height: 10%
	height: $main-menu-beta-display-height
	background-color: gradient( linear, 0% 0%, 0% 100%, from( #333D ), to( #333F ) )
	border-top-left-radius: $main-menu-border-radius
	align: right bottom
	flow-children: down
	
	#MainMenuBetaDisplayHeader,
	#MainMenuBetaDisplaySubheader
		font-size: 24px
		padding: 0px 16px
		horizontal-align: right
	
	#MainMenuBetaDisplayHeader
		font-size: 36px
		padding-top: 16px


//----------------------//
//-- Main Menu Display -//
//----------------------//
@keyframes Rainbow
	0%
		hue-rotation: 0deg
	50%
		hue-rotation: 180deg
	100%
		hue-rotation: 359deg
	
@keyframes FadeLeftEnabled
	0%
		transform: translate3d( -2%, 0px, 0px )
		opacity: 0.0
	100%
		transform: translate3d( 0%, 0px, 0px )
		opacity: 1.0

@keyframes FadeLeftDisabled
	0%
		transform: translate3d( 0%, 0px, 0px )
		opacity: 1.0
	100%
		transform: translate3d( -2%, 0px, 0px )
		opacity: 0.0
	

Label
	font-size: 25px
	font-weight: normal

#MainMenuLogoDark
	align: center center
	width: 95%

.MainMenuNavlistContainer
	flow-children: down
	align: center center
	border-radius: 8px
	margin-left: 12.5%
	margin-top: 16.5%
	
	
#MainMenuLogoDark
	width: 40%
	align: left center
	background-color: gradient( linear, 0% 0%, 0% 100%, from( #333D ), to( #3338 ) )
	//animation: Rainbow 2.1s linear 0.0s infinite normal forwards

.MainMenuNavlist
	width: 75%
	align: center center
	flow-children: down

.MainMenuButtonsNewGameLabel
	width: 100%
	height: 16%
	padding-top: 15%
	padding-left: 2%
	// margin-left: 13.5%
	font-family: "UniversLTStd"
	font-size: 50px
	color: #050505
	align: left top

.MainNewGameList
	width: 40%
	height: 100%
	border-top: 8px solid #999d
	flow-children: down
	overflow: scroll

.MainNewGamePanel
	width: 100%
	height: 100%
	border-top: 8px solid #999d
	border-left: 8px solid #999d

.MainMenuNavlistItem,
.MainMenuQuitListItem,
.MainNewGameListItem
	width: 50%
	height: 7.5%
	background-color: #b6b6b6dd
	border-left: 8px solid #999d
	transition: border-left-color 0.1s ease-in-out
	margin-top: 12px

	> Label
		width: 100%
		font-family: "UniversLTStd"
		color: #050505
		margin-left: 2.5%

.MainMenuQuitListItem
	width: 20%
	height: 5.1%
	margin-left: 50%

.MainMenuNavlistItem:parentdisabled,
.MainMenuNavlistItem:parentdisabled

	background-color: #424242dd

.MainMenuQuitListLabel
	width: 20%
	height: 5.1%
	color: #000
	font-family: "UniversLTStd"
	font-size: 22px
	margin-left: 50.5%


.MainMenuNavlistItem:hover,
.MainNewGameListItem:hover,
.MainMenuQuitListItem:hover
	border-left-color: #ff7d02ff
	background-color: #aaaa
	
.MainNewGameListItem
	height: 18.5%
	margin-left: 1.5%
	width: 100%
	.CampaignButtonLabel
		margin-left: 18%
	.CampaignButtonLabelPrimary
		color: #000
		align: left top
	.CampaignButtonLabelSecondary
		color: #8d8d8d
		align: left center
		margin-bottom: 20%
	// > Label
	// 	margin-left: 17.5%
	// 	align: left top

.CampaignButtonButton
	margin-top: 2%

.CampaignButtonImage
	height: 75%
	width: 15%
	align: left center
	margin-left: 1.5%

.MainMenuSubContainer
	height: 200%
	padding-top: 44.8%
	margin-right: -0.5%

.MainMenuFadeEnabled
	animation: FadeLeftEnabled 0.2s linear 0.0s 1 normal forwards

.MainMenuFadeDisabled
	animation: FadeLeftDisabled 0.2s linear 0.0s 1 normal backwards

.Enabled
	visibility: visible
.Disabled
	visibility: collapse

.MainMenu .PauseMenuOnly
	visibility: collapse

.MainMenu .MainMenuOnly
	visibility: visible

.PauseMenu .MainMenuOnly
	visibility: collapse

.PauseMenu .PauseMenuOnly
	visibility: visible